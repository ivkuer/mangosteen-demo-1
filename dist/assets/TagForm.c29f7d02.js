import{h as m,F as i,a as y,b as F,v,c as k}from"./index.80cecc49.js";import{bE as T,bx as g,bt as h,bF as t,bU as V,bV as x,bR as l}from"./vendor.6d54b9a4.js";const B="_tips_8eq2q_1",E="_actions_8eq2q_7",S="_removeTags_8eq2q_12",j="_removeTagsAndItems_8eq2q_12",w="_button_8eq2q_16",p={tips:B,actions:E,removeTags:S,removeTagsAndItems:j,button:w},A=(s,c)=>{var n;throw((n=s.response)==null?void 0:n.status)===422&&c(s.response.data),s},O=T({props:{id:Number},setup:(s,c)=>{var d;const n=V(),b=x();console.log((d=n.query.kind)==null?void 0:d.toString());const e=g({id:void 0,name:"",sign:"",kind:n.query.kind.toString()}),a=g({}),_=async o=>{o.preventDefault();const r=[{key:"name",type:"required",message:"\u5FC5\u586B"},{key:"name",type:"pattern",regex:/^.{1,4}$/,message:"\u53EA\u80FD\u586B 1 \u5230 4 \u4E2A\u5B57\u7B26"},{key:"sign",type:"required",message:"\u5FC5\u586B"}];Object.assign(a,{name:"",sign:""}),Object.assign(a,v(e,r)),k(a)||(await(await e.id?m.patch(`/tags/${e.id}`,e,{_autoLoading:!0}):m.post("/tags",e,{_mock:"tagCreate",_autoLoading:!0})).catch(q=>A(q,f=>Object.assign(a,f.errors))),b.back())};return h(async()=>{if(!s.id)return;const o=await m.get(`/tags/${s.id}`,{},{_mock:"tagShow"});Object.assign(e,o.data.resource)}),()=>t(F,{onSubmit:_},{default:()=>{var o,r;return[t(i,{label:"\u6807\u7B7E\u540D",modelValue:e.name,"onUpdate:modelValue":u=>e.name=u,type:"text",error:(o=a.name)==null?void 0:o[0]},null),t(i,{label:"\u7B26\u53F7"+e.sign,modelValue:e.sign,"onUpdate:modelValue":u=>e.sign=u,type:"emojiSelect",error:(r=a.sign)==null?void 0:r[0]},null),t(i,null,{default:()=>[t("p",{class:p.tips},[l("\u8BB0\u8D26\u65F6\u957F\u6309\u6807\u7B7E\u5373\u53EF\u8FDB\u884C\u7F16\u8F91")])]}),t(i,null,{default:()=>[t(y,{type:"submit",class:p.button},{default:()=>[l("\u786E\u5B9A")]})]})]}})}});export{O as T,p as s};
